
# Define colors
GREEN='\033[0;32m'
RED='\033[0;31m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

echo -e "${BLUE}=======================================${NC}"
echo -e "${BLUE}ğŸš€  Running PRE-PUSH checks...        ${NC}"
echo -e "${BLUE}=======================================${NC}"

# Unit tests
echo -e "\n${BLUE}ğŸ§ª  Running unit tests...${NC}"
if npm run test:run; then
    echo -e "${GREEN}âœ“ Tests passed${NC}"
else
    echo -e "${RED}âŒ Tests failed. Push aborted.${NC}"
    exit 1
fi

# E2E Tests
echo -e "\n${BLUE}ğŸ•µï¸  Running E2E tests...${NC}"
if npm run test:e2e; then
    echo -e "${GREEN}âœ“ E2E tests passed${NC}"
else
    echo -e "${RED}âŒ E2E tests failed. Push aborted.${NC}"
    exit 1
fi

# Build
echo -e "\n${BLUE}ğŸ“¦  Checking production build...${NC}"
if npm run build; then
    echo -e "${GREEN}âœ“ Build successful${NC}"
else
    echo -e "${RED}âŒ Build failed. Push aborted.${NC}"
    exit 1
fi

echo -e "\n${GREEN}=======================================${NC}"
echo -e "${GREEN}âœ…  All pre-push checks passed! Ready to push.${NC}"
echo -e "${GREEN}=======================================${NC}"
